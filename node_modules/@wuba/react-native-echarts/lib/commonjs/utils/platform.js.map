{"version":3,"names":["_font","require","DEFAULT_FONT_SIZE","DEFAULT_FONT","DEFAULT_FONT_FAMILY","OFFSET","SCALE","getTextWidthMap","mapStr","map","JSON","i","length","char","String","fromCharCode","size","charCodeAt","DEFAULT_TEXT_WIDTH_MAP","defaultWidthMapStr","measureText","exports","text","font","res","exec","fontSize","width","indexOf","preCalcWidth"],"sourceRoot":"../../../src","sources":["utils/platform.ts"],"mappings":";;;;;;AAIA,IAAAA,KAAA,GAAAC,OAAA;AAJA;AACA;AACA;;AAIA,MAAMC,iBAAiB,GAAG,EAAE;AAC5B,MAAMC,YAAY,GAAGD,iBAAiB,GAAG,KAAK,GAAGE,yBAAmB;AAEpE,MAAMC,MAAM,GAAG,EAAE;AACjB,MAAMC,KAAK,GAAG,GAAG;AAEjB,SAASC,eAAeA,CAACC,MAAc,EAAE;EACvC,MAAMC,GAA2B,GAAG,CAAC,CAAC;EACtC,IAAI,OAAOC,IAAI,KAAK,WAAW,EAAE;IAC/B,OAAOD,GAAG;EACZ;EACA,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,MAAM,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;IACtC,MAAME,IAAI,GAAGC,MAAM,CAACC,YAAY,CAACJ,CAAC,GAAG,EAAE,CAAC;IACxC,MAAMK,IAAI,GAAG,CAACR,MAAM,CAACS,UAAU,CAACN,CAAC,CAAC,GAAGN,MAAM,IAAIC,KAAK;IACpDG,GAAG,CAACI,IAAI,CAAC,GAAGG,IAAI;EAClB;EACA,OAAOP,GAAG;AACZ;AACA,MAAMS,sBAAsB,GAAGX,eAAe,CAACY,wBAAkB,CAAC;AAE3D,MAAMC,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAI,YAAY;EACtC,OAAO,UAAUE,IAAY,EAAEC,IAAY,EAAE;IAC3CD,IAAI,GAAGA,IAAI,IAAI,EAAE;IACjBC,IAAI,GAAGA,IAAI,IAAIpB,YAAY;IAC3B,MAAMqB,GAAG,GAAG,aAAa,CAACC,IAAI,CAACF,IAAI,CAAC;IACpC,MAAMG,QAAQ,GAAGF,GAAG,IAAIA,GAAG,CAAC,CAAC,CAAC,GAAG,CAACA,GAAG,CAAC,CAAC,CAAC,GAAGtB,iBAAiB;IAC5D,IAAIyB,KAAK,GAAG,CAAC;IACb,IAAIJ,IAAI,CAACK,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;MAC7BD,KAAK,GAAGD,QAAQ,GAAGJ,IAAI,CAACV,MAAM;IAChC,CAAC,MAAM;MACL,KAAK,IAAID,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,IAAI,CAACV,MAAM,EAAED,CAAC,EAAE,EAAE;QACpC,IAAIkB,YAAY,GAAGX,sBAAsB,CAACI,IAAI,CAACX,CAAC,CAAC,CAAW;QAC5DgB,KAAK,IAAIE,YAAY,IAAI,IAAI,GAAGH,QAAQ,GAAGG,YAAY,GAAGH,QAAQ;MACpE;IACF;IACA,OAAO;MAAEC,KAAK,EAAEA;IAAM,CAAC;EACzB,CAAC;AACH,CAAC,CAAE,CAAC"}